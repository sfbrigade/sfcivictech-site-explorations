---
import BaseLayout from "@/layouts/BaseLayout.astro";

let posts;

try {
	const res = await fetch("http://localhost:3001/api/posts");

	posts = await res.json();
} catch (e) {
	console.error(e);
}
---

<BaseLayout title="Posts">
	{
		posts?.docs?.map((post) => (
			<h2 set:html={post.title} />
			<pre>{JSON.stringify(post, null, 2)}</pre>
		))
	}
</BaseLayout>
