---
import BaseLayout from "@/layouts/BaseLayout.astro";

async function fetchData() {
    try {
        //only works with http://localhost:4321/ and not /api/get-repos, may cause issues with deployment on github pages
        const response = await fetch("http://localhost:4321/api/get-repos", {
            method: "GET",
            headers: {
                "Content-Type": "application/json",
            },
        });
        return await response.json();
    } catch (error) {
        console.error("Error:", error);
        return null;
    }
}

let json = await fetchData();

---

<BaseLayout title="Projects">
    <div><pre>{JSON.stringify(json, null, 2)}</pre></div>
</BaseLayout>
